<!DOCTYPE html>
<html lang="en">

<head>
	<title>Andamento</title>

	<!-- Meta -->
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Bootstrap Documentation Template For Software Developers">
	<meta name="author" content="Xiaoying Riley at 3rd Wave Media">
	<link rel="shortcut icon" href="favicon.ico">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
		crossorigin="anonymous"></script>

	<!-- Google Font -->
	<link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700&display=swap" rel="stylesheet">
	<!-- Theme CSS -->
	<link id="theme-style" rel="stylesheet" href="../static/css/theme.css">
</head>

<body>
	<div id="header"></div>

	<div class="page-header theme-bg-dark py-4 text-center position-relative">
		<div class="theme-bg-shapes-right"></div>
		<div class="theme-bg-shapes-left"></div>
		<div class="container">
			<h1 class="page-heading single-col-max mx-auto">Projetos em Andamento</h1>
			<!-- <div class="page-intro single-col-max mx-auto">Defina; Organize; Realize.</div> -->
		</div>
	</div>
	<div class="page-content">
		<div class="container">
			<div class="docs-overview py-5">
				<div class="row justify-content-center" id="projetosContainer">
					<div class="col-12 col-lg-4 py-5">
						<div class="card shadow-sm">
							<div class="card-body">
								<h5 class="card-title mb-3">
									<span class="theme-icon-holder card-icon-holder me-2">
										<i class="fa solid fa-check"></i>
									</span>
									<span class="card-title-text">{Nome Projeto}</span>
								</h5>
								<div class="card-text">
									Data de início: {data}
								</div>
								<div class="card-text">
									Valor do projeto: {valor}
								</div>
								<div class="card-text">

								</div>
								<a class="card-link-mask" href="/{id}"></a>
							</div>
						</div>
					</div>
					<div class="col-12 col-lg-4 py-5">
						<div class="card shadow-sm">
							<div class="card-body">
								<h5 class="card-title mb-3">
									<span class="theme-icon-holder card-icon-holder me-2">
										<i class="fa solid fa-check"></i>
									</span>
									<span class="card-title-text">{Nome Projeto}</span>
								</h5>
								<div class="card-text">
									Data de início: {data}
								</div>
								<div class="card-text">
									Valor do projeto: {valor}
								</div>
								<div class="card-text">

								</div>
								<a class="card-link-mask" href="docs-page.html#section-1"></a>
							</div>
						</div>
					</div>
					<div class="col-12 col-lg-4 py-5">
						<div class="card shadow-sm">
							<div class="card-body">
								<h5 class="card-title mb-3">
									<span class="theme-icon-holder card-icon-holder me-2">
										<i class="fa solid fa-check"></i>
									</span>
									<span class="card-title-text">{Nome Projeto}</span>
								</h5>
								<div class="card-text">
									Data de início: {data}
								</div>
								<div class="card-text">
									Valor do projeto: {valor}
								</div>
								<div class="card-text">

								</div>
								<a class="card-link-mask" href="docs-page.html#section-1"></a>
							</div>
						</div>
					</div>

					<!-- <div class="col-12 col-lg-4 py-3">
					    <div class="card shadow-sm">
						    <div class="card-body">
							    <h5 class="card-title mb-3">
								    <span class="theme-icon-holder card-icon-holder me-2">
								        <i class="fas fa-box fa-fw"></i>
							        </span>
							        <span class="card-title-text">????</span>
							    </h5>
							    <div class="card-text">
								    Aliquam lorem ante, dapibus in, viverra quis, feugiat a, tellus. Phasellus viverra nulla ut metus varius laoreet. Quisque rutrum. Aenean imperdiet.						    
								</div>
							    <a class="card-link-mask" href="docs-page.html#section-3"></a>
						    </div>
					    </div>
				    </div> -->
				</div>
			</div>
		</div>
	</div>

	<div id="footer"></div>
	<script src="../static/js/scripts.js"></script>

	<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
	<script>
		function carregarProjetos() {
			var token = localStorage.getItem('token');

			axios.get('http://localhost:8080/projetos/', {
				headers: {
					'Authorization': 'Bearer ' + token
				}
			})				
			
			.then(function (response) {
				console.log(response.data);
				exibirProjetos(response.data);
			})
			.catch(function (error) {
				console.error('Erro ao carregar projetos:', error);
			});
		}
    function exibirProjetos(projetos) {
        var container = document.getElementById('projetosContainer');

        projetos.forEach(function (projeto) {
            var cardHtml = `
                <div class="col-md-4 mb-4">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title mb-3">
                                <span class="theme-icon-holder card-icon-holder me-2">
                                    <i class="fa solid fa-check"></i>
                                </span>
                                <span class="card-title-text">${projeto.nomeDoProjeto}</span>
                            </h5>
                            <div class="card-text">
                                Data de início: ${projeto.dataDeInicio}
                            </div>
                            <div class="card-text">
                                Valor do projeto: ${projeto.custoDoProjeto}
                            </div>
                            <!-- Adicione mais campos conforme necessário -->
                            <div class="card-text">

                            </div>
                            <a class="card-link-mask" href="/${projeto.id}"></a>
                        </div>
                    </div>
                </div>
            `;

            container.innerHTML += cardHtml;
        });
    }

    window.onload = function () {
        carregarProjetos();
    };

</script>

</body>

</html>